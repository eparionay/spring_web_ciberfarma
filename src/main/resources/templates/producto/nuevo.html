<html xmlns:th="http://www.thymeleaf.org" th:replace="fragments/layout :: layoutBase(~{::contenido}, ~{::scripts})">
<th:block th:fragment="contenido">
	<div class="card shadow-lg">
		<div class="card-body">
			<h1 class="card-title text-center">Producto Nuevo</h1>
			<div class="row d-flex justify-content-center">
				<div class="col-md-6">
					<form id="form" class="row g-2" method="post" novalidate th:object="${producto}"
						th:action="@{/producto/registrar}">
						<div class="col-md-12 position-relative">
							<label for="descripcion" class="form-label"> Descripción </label>
							<input type="text" class="form-control" th:field="*{descripcion}"
								placeholder="Ingrese una descripción" required>
						</div>
						<div class="col-md-6 position-relative">
							<label for="stock" class="form-label">Stock</label>
							<input type="number" class="form-control" th:field="*{stock}" placeholder="0" required>
						</div>
						<div class="col-md-6 position-relative">
							<label for="precio" class="form-label">Precio</label>
							<div class="input-group">
								<span class="input-group-text">S/.</span>
								<input class="form-control" type="number" step="0.01" th:field="*{precio}"
									placeholder="Ej: 49.90">
							</div>
						</div>
						<div class="col-md-6 position-relative">
							<label for="categoria" class="form-label">Categoría</label>
							<div class="input-group">
								<span class="input-group-text"><i class="fa-solid fa-tags"></i></i></span>
								<select class="form-select" th:field="*{categoria}">
									<option value="" selected hidden="hidden">--Seleccione--
									</option>
									<option th:each="item:${lstCategoria}" th:value="${item.idCategoria}"
										th:text="${item.descripcion}">
									</option>
								</select>
							</div>
						</div>
						<div class="col-md-6 position-relative">
							<label for="proveedor" class="form-label">Proveedor</label>
							<div class="input-group">
								<span class="input-group-text"><i class="fa-solid fa-truck-fast"></i></span>
								<select class="form-select" th:field="*{proveedor}">
									<option value="" selected hidden="hidden">--Seleccione--
									</option>
									<option th:each="item:${lstProveedor}" th:value="${item.idProveedor}"
										th:text="${item.razonSocial}">
									</option>
								</select>
							</div>
						</div>
						<div class="col-md-12 d-flex justify-content-between">
							<!-- Botón Regresar -->
							<a th:href="@{/producto/listado}" class="btn btn-outline-dark">
								<i class="fa-solid fa-reply"></i> Regresar
							</a>
							<!-- Botón Registrar -->
							<button type="submit" class="btn btn-primary">
								<i class="fa-solid fa-floppy-disk"></i> Registrar
							</button>
							<!-- Botón Limpiar -->
							<button type="reset" class="btn btn-secondary">
								<i class="fa-solid fa-broom"></i> Limpiar
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</th:block>
<th:block th:fragment="scripts">
	<script>
		$(document)
			.ready(
				function () {
					$("#form")
						.validate(
							{
								rules: {
									descripcion: {
										required: true
									},
									stock: {
										required: true
									},
									precio: {
										required: true
									},
									descripcion: {
										required: true
									},
									categoria: {
										required: true
									},
									proveedor: {
										required: true
									}
								},
								messages: {
									descripcion: {
										required: "campo requerido"
									},
									stock: {
										required: "campo requerido"
									},
									precio: {
										required: "campo requerido"
									},
									categoria: {
										required: "campo requerido"
									},
									proveedor: {
										required: "campo requerido"
									}
								},
								errorElement: 'div',
								errorClass: 'invalid-tooltip',
								highlight: function (element) {
									$(element).addClass(
										'is-invalid')
										.removeClass(
											'is-valid');
								},
								unhighlight: function (element) {
									$(element).removeClass(
										'is-invalid')
										.addClass(
											'is-valid');
								}
							});
				});
	</script>
</th:block>